<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Base - Ember CP Validations</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme-ed8a58a95f85710cbcec15d1fd94305b.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra-313faa9c30beed080fb881b0980eb098.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight-e0e4d973c6d7833a91f6ce8f7a8edb56.css">
  <link href="../../style-ef900473434d1dde2284e337b0934f2d.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Base";
  </script>
  
  <script src="../../js/jquery-2.1.1.min-afdc897116262ca97136ad757775d0ef.js"></script>
  <script src="../../js/modernizr-2.8.3.min-65f1d21d5fcc9d21da758adababd0c3c.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack-79b6d8dc1a48df1c4b1d0673328580d7.js"></script>
  <script src="../../js/theme-3f16be66bb8070b78a11a4bfff461dd2.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../index.html" class="icon icon-home"> Ember CP Validations</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../index.html">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../validating/index.html">Validating</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../messages/index.html">Error Messages</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../templating/index.html">Templating</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../testing/index.html">Testing</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Validators</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../common/index.html">Common Options</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="index.html">Base</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#properties">Properties</a></li>
                
            
                <li class="toctree-l3"><a href="#methods">Methods</a></li>
                
                    <li><a class="toctree-l4" href="#buildoptions-object">buildOptions (Object)</a></li>
                
                    <li><a class="toctree-l4" href="#processoptions-object">processOptions (Object)</a></li>
                
                    <li><a class="toctree-l4" href="#validate">validate</a></li>
                
                    <li><a class="toctree-l4" href="#createerrormessage-string">createErrorMessage (String)</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../presence/index.html">Presence</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../inclusion/index.html">Inclusion</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../exclusion/index.html">Exclusion</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../length/index.html">Length</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../date/index.html">Date</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../format/index.html">Format</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../dependent/index.html">Dependent</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../confirmation/index.html">Confirmation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../collection/index.html">Collection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../belongs-to/index.html">Belongs To</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../has-many/index.html">Has Many</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../function/index.html">Function</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../custom/index.html">Custom</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Ember CP Validations</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
    
      
        
          <li>Validators &raquo;</li>
        
      
    
    <li>Base</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/offirgolan/ember-cp-validations" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>All validators extend this base class which have a few important properties and methods that might come of use when creating custom validators.</p>
<h1 id="properties">Properties</h1>
<ul>
<li><code>options</code> (<strong>Object</strong>): Options passed in to the validator when defined in the model</li>
<li><code>defaultOptions</code> (<strong>Object</strong>): Default validations options for a specific attribute</li>
<li><code>model</code> (<strong>Object</strong>): The model instance</li>
<li><code>attribute</code> (<strong>String</strong>): Attributed name of the model this validator is attached to</li>
<li><code>errorMessages</code> (<strong>Object</strong>): Default error messages. Populated by <code>validators/messages</code></li>
<li><code>_type</code> (<strong>String</strong>): Validator type</li>
</ul>
<h1 id="methods">Methods</h1>
<h3 id="buildoptions-object">buildOptions (<strong>Object</strong>)</h3>
<p>Build options hook. Merges default options into options object. This method gets called on init and is the ideal place to normalize your options. The <a href="https://github.com/offirgolan/ember-cp-validations/blob/master/app/validators/presence.js">presence validator</a> is a good example to checkout</p>
<p><code>buildOptions(options = {}, defaultOptions = {})</code></p>
<ul>
<li><code>options</code> (<strong>Object</strong>): Options passed in to the validator when defined in the model</li>
<li><code>defaultOptions</code> (<strong>Object</strong>): Default validations options for a specific attribute</li>
</ul>
<h3 id="processoptions-object">processOptions (<strong>Object</strong>)</h3>
<p>Creates a new object and calls any option property that is a function with the validator context. This method is called right before <code>validate</code> and the returned object gets passed into the validate method as its options</p>
<p><code>processOptions()</code></p>
<h3 id="validate">validate</h3>
<p>The validate method is where all of your logic should go. It will get passed in the current value of the attribute this validator is attached to. Within the validator object, you will have access to the following properties:</p>
<p><code>validate(value, options, model, attribute)</code></p>
<ul>
<li><code>model</code> (<strong>Model</strong>): The current model being validated</li>
<li><code>options</code> (<strong>Object</strong>): Validator built and processed options</li>
<li><code>attribute</code> (<strong>String</strong>): The current attribute being validated</li>
<li><code>defaultMessages</code>(<strong>Object</strong>): The default error messages</li>
</ul>
<p>The <code>validate</code> method should return one of three types</p>
<ul>
<li><code>Boolean</code>:  <code>true</code> if the current value passed the validation</li>
<li><code>String</code>: The error message</li>
<li><code>Promise</code>: A promise that will either resolve or reject, and will finally return either <code>true</code> or the final error message string.</li>
</ul>
<h3 id="createerrormessage-string">createErrorMessage (<strong>String</strong>)</h3>
<p>This function is used by all pre-defined validators to build an error message that is present in <code>validators/message</code> or decalred in your i18n solution.</p>
<p><code>createErrorMessage(type, value, options)</code></p>
<ul>
<li><code>type</code> (<strong>String</strong>): The error message type</li>
<li><code>value</code>: The current value being evaluated</li>
<li><code>options</code> (<strong>Object</strong>): Validator built and processed options (used as the message string context)</li>
</ul>
<p>If we extended our default messages to include <code>uniqueUsername: '{username} already exists'</code>, we can use this method to generate our error message.</p>
<pre><code class="javascript">validate(value, options) {
  var exists = false;
  options.description = 'Username';
  options.username = value;

  // check with server if username exists...

  if(exists) {
    return this.createErrorMessage('uniqueUsername', options, value)
  }

  return true;
}
</code></pre>

<p>If we input <code>johndoe</code> and that username already exists, the returned message would be <code>'johndoe already exists'</code>. </p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../presence/index.html" class="btn btn-neutral float-right" title="Presence"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../common/index.html" class="btn btn-neutral" title="Common Options"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Yahoo! Inc.</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../common/index.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../presence/index.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
